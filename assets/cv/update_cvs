#!/bin/bash

# List of language codes (as per your YAML file)
languages=("en" "es" "fr")

# Loop over each language
for lang in "${languages[@]}"
do
  echo "Generating LaTeX file for language: $lang"

  # Run the Python script for each language
  python3 update_cvs.py "$lang"

  # Move the generated output to a file specific to the language
  mv output.tex "CV Data Engineer - Pablo Martín Calvo - $lang.tex"

  # Compile the LaTeX file to PDF
  mactex "CV Data Engineer - Pablo Martín Calvo - $lang.tex"

  # Optionally, you can clean up auxiliary files generated by pdflatex
  rm "CV Data Engineer - Pablo Martín Calvo - $lang.aux" "CV Data Engineer - Pablo Martín Calvo - $lang.log" "CV Data Engineer - Pablo Martín Calvo - $lang.out" "CV Data Engineer - Pablo Martín Calvo - $lang.tex"

done

echo "All languages have been processed!"